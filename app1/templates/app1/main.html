{% extends 'app1/layout.html' %}
{% block content %}
{% load static %}
{% load widget_tweaks %}

<div class="container-sm py-5 ">
    <div class="d-flex flex-column align-items-start justify-content-start  regContainer "
    >
        <div class=" border-bottom py-2 d-flex justify-content-between "
        style="width: 100%;"
        >
            <div class="d-flex gap-2 align-items-center">
                <img src="{% static 'app1/logo.png' %}" class=" text-center" width="40" height="40" />
                <h3>
                    Welcome {{request.user.username}} ðŸ‘‹
                </h3>
            </div>

            <div class="d-flex">

                <a href="{% url 'logout' %}" class="btn btn-danger">Logout</a>
            </div>
        </div>
        
        <div class="w-full"
        style="width: 100%;"
        >
            <div class=" d-flex justify-content-between align-items-center">

                <h5 class=" py-3">
                    Make your work easier by managing your tasks here.
                </h5>
                
                <div>
                    <a href="{% url 'add'%}" class="btn btn-primary">Add new task</a>
                </div>

            </div>

            <div class="row">

                <!-- if there is no task show this message -->

                {% if tasks|length == 0 %}

                <div class="col-sm-12 py-2">
                    <div class="card">
                        <div class="card-body">
                            <h4 class="card-title
                            ">No tasks available</h4>
                        </div>
                    </div>
                </div>
                    
                {% endif %}

                {% with value=0 %}
                {% for t in tasks %}

                <div class="col-sm-3 py-2">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">{{ t.n_task }}</h5>                            
                            <a href="{% url 'task' t.id_task %}" class="btn btn-primary">View Task</a>
                        </div>
                    </div>
                </div>
                
                {% endfor %}
                {% endwith %}


            </div>

        </div>

    </div>
</div>

{% endblock %}